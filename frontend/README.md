# Мини-квиз с таймером и автосохранением

Полнофункциональный квиз с React frontend и Next.js API routes.

## Функциональность

✅ **Загрузка вопросов**: 10 вопросов загружаются с сервера при старте  
✅ **Таймер**: Обратный отсчет 60 секунд с визуальными предупреждениями  
✅ **Автосохранение**: Каждые 5 секунд + при изменении ответов (дебаунс 500мс)  
✅ **Восстановление состояния**: При перезагрузке страницы восстанавливается прогресс  
✅ **Завершение квиза**: Автоматически по истечении времени  
✅ **Подсчет ответов**: Отображение количества выбранных ответов  
✅ **Обработка ошибок**: Graceful handling с возможностью повтора  
✅ **Офлайн поддержка**: Работа без интернета с локальным сохранением  

## Запуск проекта

### Единая команда (Next.js с API routes)

1. Установите зависимости:
\`\`\`bash
npm install
\`\`\`

2. Запустите проект:
\`\`\`bash
npm run dev
\`\`\`

Приложение будет доступно на http://localhost:3000

## API Endpoints

- `GET /api/quiz` - получить 10 вопросов
- `POST /api/attempt/save` - сохранить прогресс (attemptId, answers, remainingSec)
- `GET /api/attempt/{attemptId}` - получить сохраненное состояние
- `POST /api/attempt/finish` - завершить квиз

## Архитектура

### Frontend (React + TypeScript)
- **QuizContainer**: Основной компонент с логикой квиза
- **QuizQuestion**: Компонент отдельного вопроса
- **QuizStatus**: Статус-бар с таймером и прогрессом
- **ErrorBoundary**: Обработка ошибок React

### Backend (Next.js API Routes)
- **In-memory storage**: Хранение состояния попыток в Map
- **TypeScript**: Полная типизация API endpoints
- **Next.js Route Handlers**: Современный подход к API

### Особенности реализации
- **Восстановление таймера**: Учитывает время, прошедшее с последнего сохранения
- **Дебаунс сохранения**: Предотвращает избыточные запросы к серверу  
- **Офлайн режим**: Локальное сохранение с синхронизацией при подключении
- **Адаптивный дизайн**: Работает на мобильных устройствах
- **Accessibility**: Поддержка screen readers и клавиатурной навигации

## Тестирование

1. Запустите проект командой `npm run dev`
2. Откройте http://localhost:3000
3. Ответьте на несколько вопросов
4. Перезагрузите страницу - состояние должно восстановиться
5. Дождитесь окончания таймера - квиз завершится автоматически
6. Нажмите "Новый квиз" для повторного прохождения

## Структура проекта

\`\`\`
├── app/
│   ├── api/
│   │   ├── quiz/route.ts              # Загрузка вопросов
│   │   └── attempt/
│   │       ├── save/route.ts          # Сохранение прогресса
│   │       ├── finish/route.ts        # Завершение квиза
│   │       └── [attemptId]/route.ts   # Восстановление состояния
│   ├── page.tsx                       # Главная страница
│   └── layout.tsx                     # Основной layout
├── components/
│   ├── quiz-container.tsx             # Основная логика квиза
│   ├── quiz-question.tsx              # Компонент вопроса
│   ├── quiz-status.tsx                # Статус и таймер
│   └── error-boundary.tsx             # Обработка ошибок
└── README.md
