# Мини-квиз с таймером и автосохранением

Полнофункциональный квиз с React/Next.js frontend и FastAPI backend.

## Функциональность

**Загрузка вопросов**: 10 вопросов загружаются с FastAPI сервера при старте  
**Таймер**: Обратный отсчет 60 секунд с визуальными предупреждениями  
**Автосохранение**: Каждые 5 секунд + при изменении ответов (дебаунс 500мс)  
**Восстановление состояния**: При перезагрузке страницы восстанавливается прогресс  
**Завершение квиза**: Автоматически по истечении времени с подсчетом результатов  
**Подсчет ответов**: Отображение количества выбранных ответов и результатов  
**Обработка ошибок**: Graceful handling с возможностью повтора  
**Офлайн поддержка**: Работа без интернета с локальным сохранением  

## Запуск проекта

### Backend (FastAPI)

1. Навигация в папку backend:
```bash
cd backend
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Запустите FastAPI сервер:
```bash
python run.py
```

Бэкенд будет доступен на http://localhost:8000

### Frontend (React/Next.js)

1. Навигация в папку frontend:
```bash
cd frontend
```

2. Установите зависимости:
```bash
pnpm i
```

3. Запустите фронтенд:
```bash
pnpm dev
```

Приложение будет доступно на http://localhost:3000

## API Endpoints

### FastAPI Backend (http://localhost:8000)
- `GET /api/quiz` - получить 10 вопросов
- `POST /api/attempt/save` - сохранить прогресс (attemptId, answers, remainingSec)
- `GET /api/attempt/{attemptId}` - получить сохраненное состояние
- `POST /api/attempt/finish` - завершить квиз и получить результаты

### Next.js API Routes (Proxy)
- Все API роуты в `/frontend/app/api/` проксируют запросы к FastAPI бэкенду
- Обеспечивают единообразный интерфейс для фронтенда

## Архитектура

### Frontend (Next.js + React + TypeScript)
- **QuizContainer**: Основной компонент с логикой квиза
- **QuizQuestion**: Компонент отдельного вопроса
- **QuizStatus**: Статус-бар с таймером и прогрессом
- **QuizResults**: Компонент отображения результатов
- **ErrorBoundary**: Обработка ошибок React
- **API Proxy**: Next.js API routes проксируют запросы к FastAPI

### Backend (FastAPI + Python)
- **FastAPI**: Современный, быстрый веб-фреймворк для API
- **Pydantic**: Валидация данных и сериализация
- **CORS**: Настроенный для работы с фронтендом
- **In-memory storage**: Хранение состояния попыток в словаре
- **Автоматическая документация**: Swagger UI на /docs

### Особенности реализации
- **Восстановление таймера**: Учитывает время, прошедшее с последнего сохранения
- **Дебаунс сохранения**: Предотвращает избыточные запросы к серверу  
- **Офлайн режим**: Локальное сохранение с синхронизацией при подключении
- **Адаптивный дизайн**: Работает на мобильных устройствах
- **Accessibility**: Поддержка screen readers и клавиатурной навигации

## Тестирование

1. Запустите проект командой `pnpm dev`
2. Откройте http://localhost:3000
3. Ответьте на несколько вопросов
4. Перезагрузите страницу - состояние должно восстановиться
5. Дождитесь окончания таймера - квиз завершится автоматически
6. Нажмите "Новый квиз" для повторного прохождения
